# Commands are not case sensitive

# Importing Az Module

## Start with this

    Install-PackageProvider NuGet -Force

## If the above command ends up with an error run these commands

    Set-ExecutionPolicy RemoteSigned

    [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12

    Install-PackageProvider NuGet -Force

    Install-Module -Name Az -AllowClobber -Scope CurrentUser

## And at last import az modules
    Import-Module AZ -Verbose

# Login to  azure portal
    Connect-AzAccount

## Get all the VMs
    Get-AzVm

## Wildcard search for commands
    get-command *webapp  
    get-command *Resource
    get-command *Vm

<details>
<summary>
Create a VM
</summary>

  ### Create a resource group if you don't have one already. [Reference](https://docs.microsoft.com/en-us/powershell/module/az.resources/new-azresourcegroup?view=azps-5.3.0)

    new-AzResourceGroup -Name powershellgrp -Location EastUs
  
  ### Create a VM. [Reference](https://docs.microsoft.com/en-us/powershell/module/az.compute/new-azvm?view=azps-5.3.0)
    New-AzVm -ResourceGroupName powershellgrp -Name aznewvm -Location EastUs -VirtualNetworkName "MynewVnet" -SubnetName "default" -SecurityGroupName "MynewNSG" -PublicIpAddressName "mypublicip" -OpenPorts 80,3389

  ### Stop a vm
    Stop-Azvm -Name aznewvm -ResourceGroupName powershellgrp
</details>


